---
headingText: Generate CloudFormation template
componentType: default
---

Generate a CloudDormation template that has all the configuration details you have entered so far.

1. Provide a unique name for your CloudFormation stack. The default name is `NewRelic-AWS-Integration`.
2. Copy your existing license key. If you do not have a key, select <DNT>**Create a new key**</DNT> and copy it.
3. Select <DNT>**Launch your Cloudformation in AWS**</DNT>. AWS Cloud Console opens with the <DNT>**Quick create stack**</DNT> form.
4. The template includes all the parameters you have entered in New Relic. The following are the details you need to fill in:
   * <DNT>**New Relic Ingest License Key**</DNT>: Paste the copied license key.
   * <DNT>**Store New Relic License Key in AWS Secrets Manager**</DNT>: If you want to store the New Relic license key in AWS Secrets Manager as part of the Lambda environment variable, keep it **true** (default value).
   * (Optional) In the <DNT>**Permissions**</DNT> block, select the IAM role for CloudFormation to use for all stack operations.
   * Read through <DNT>**Launch your Cloudformation in AWS**</DNT> and acknowledge the necessary capabilities.
5. Select <DNT>**Create stack**</DNT>. It may take several minutes to create the new stack.
If it fails to create a stack, refer the [troubleshooing procedures](/docs/logs/troubleshooting/aws-log-integration-issues/stack-creation-fails).